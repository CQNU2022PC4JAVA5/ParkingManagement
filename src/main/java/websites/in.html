<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<label for="textfield">车牌号:</label>
<input type="text" name="textfield" id="textfield">
<p>&nbsp;</p>
<label for="textfield2">车位号:</label>
<input type="text" name="textfield2" id="textfield2">
<p>
<br>


</p><input type="submit">
<input type="button" name="return" id="return" value="返回" onclick='location.href=("functions")'>
</table>

<input type="text" id="input" />
<button id="save">Save</button>

<script>
    // 获取所有的单元格
    const cells = document.querySelectorAll("td");

    // 遍历每个单元格
    for (let cell of cells) {
        // 设置contenteditable属性为true
        cell.setAttribute("contenteditable", "true");

        // 添加失去焦点事件监听器
        cell.addEventListener("blur", function () {
            // 获取当前单元格的id和内容
            let id = cell.parentNode.firstChild.textContent;
            let content = cell.textContent;

            // 保存到本地存储中，以id为键，内容为值
            localStorage.setItem(id, content);
        });
    }

    // 获取保存按钮
    const save = document.getElementById("save");

    // 添加点击事件监听器
    save.addEventListener("click", function () {
        // 遍历本地存储中的所有键值对
        for (let i = 0; i < localStorage.length; i++) {
            // 获取键和值
            let key = localStorage.key(i);
            let value = localStorage.getItem(key);

            // 在控制台中显示或发送到服务器
            console.log(key + ": " + value);
            // fetch("/save", {method: "POST", body: JSON.stringify({key: value})});
        }
    });

</script>
</body>
</html>
